(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{13:function(e,t,n){e.exports=n.p+"static/media/man.2369d24d.svg"},17:function(e,t,n){e.exports=n(31)},22:function(e,t,n){},24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(11),c=n.n(o),i=(n(22),n(9)),s=n.n(i),l=n(12),u=n(7),m=(n(24),n(13)),h=n.n(m),d=n(3),p=n.n(d),f=(n(25),n(29),n(32),n(15)),g=n(16);p.a.initializeApp({apiKey:"AIzaSyCyvh9LIiJF0qDuTAToeTbM-mE8x4FCXME",authDomain:"shyshkovskyi-smoilovskyi-chat.firebaseapp.com",projectId:"shyshkovskyi-smoilovskyi-chat",storageBucket:"shyshkovskyi-smoilovskyi-chat.appspot.com",messagingSenderId:"1059185687298",appId:"1:1059185687298:web:c17bb8e6e3d3f4778a201b",measurementId:"G-VNN0574L8Z"});var v=p.a.auth(),E=p.a.firestore();p.a.analytics();function b(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"sign-in",onClick:function(){var e=new p.a.auth.GoogleAuthProvider;v.signInWithPopup(e)}},"Sign in with Google"),r.a.createElement("button",{className:"sign-in",onClick:function(){p.a.auth().signInAnonymously().then((function(){})).catch((function(e){e.code,e.message}))}},"anonymSinng"),r.a.createElement("p",null,"Do not violate the community guidelines or you will be banned for life!"))}function y(){return v.currentUser&&r.a.createElement("button",{className:"sign-out",onClick:function(){return v.signOut()}},"Sign Out")}function k(){var e=Object(a.useRef)(),t=E.collection("messages"),n=t.orderBy("createdAt").limit(25),o=Object(g.a)(n,{idField:"id"}),c=Object(u.a)(o,1)[0],i=Object(a.useState)(""),m=Object(u.a)(i,2),h=m[0],d=m[1],f=function(){var n=Object(l.a)(s.a.mark((function n(a){var r,o,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),r=v.currentUser,o=r.uid,c=r.photoURL,n.next=4,t.add({text:h,createdAt:p.a.firestore.FieldValue.serverTimestamp(),uid:o,photoURL:c});case 4:d(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,c&&c.map((function(e){return r.a.createElement(w,{key:e.id,message:e})})),r.a.createElement("span",{ref:e})),r.a.createElement("form",{onSubmit:f},r.a.createElement("input",{value:h,onChange:function(e){return d(e.target.value)},placeholder:"say something nice"}),r.a.createElement("button",{type:"submit",disabled:!h},"\ud83d\udd4a\ufe0f")))}function w(e){var t=e.message,n=t.text,a=t.uid,o=t.photoURL,c=a===v.currentUser.uid?"sent":"received";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"message ".concat(c)},r.a.createElement("img",{src:o||h.a}),r.a.createElement("p",null,n)))}var I=function(){var e=Object(f.a)(v),t=Object(u.a)(e,1)[0];return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"S&S chat"),r.a.createElement(y,null)),r.a.createElement("section",null,t?r.a.createElement(k,null):r.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.03b590a2.chunk.js.map